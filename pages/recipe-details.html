<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Primary Meta Tags -->
    <title>Recipe Details - Recibee</title>
    <meta name="title" content="Recipe Details - Recibee">
    <meta name="description" content="Detailed recipe instructions and information for recipes matched from your ingredients.">
    
    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="/assets/icons/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
    <link rel="icon" type="image/svg+xml" href="/assets/icons/favicon.svg">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">
    <meta name="theme-color" content="#ff8000">
    
    <link rel="stylesheet" href="/dist/output.css">
    <link rel="stylesheet" href="/assets/css/styles.css">
    <link rel="stylesheet" href="/assets/css/styles-pages.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="bg-cream min-h-screen flex flex-col">
    <!-- Progress Bar -->
    <div id="progress-bar" class="fixed top-0 left-0 h-[3px] bg-gradient-to-r from-secondary via-primary to-accent z-[60] w-0 shadow-md"></div>
    
    <!-- Navigation -->
    <nav class="bg-white backdrop-blur-sm bg-opacity-95 shadow-lg py-4 sticky top-0 z-50 border-b border-dark/10">
        <div class="container mx-auto px-4 md:px-6 flex justify-between items-center">
            <a href="/index.html" class="flex items-center">
                <img src="/assets/icons/favicon.svg" alt="Recibee" class="h-8 w-auto mr-2 rounded-md">
                <span class="text-xl font-bold text-dark font-choplin">Recibee</span>
            </a>
            <div class="hidden md:flex space-x-6">
                <a href="/index.html#features" class="text-dark hover:text-primary transition-colors font-medium">Features</a>
                <a href="/index.html#how-it-works" class="text-dark hover:text-primary transition-colors font-medium">How It Works</a>
                <div id="user-info" class="hidden">
                    <span id="usage-count" class="text-dark mr-3">0/3 Uses</span>
                    <a href="/pages/account.html" class="text-dark hover:text-primary transition-colors font-medium">My Account</a>
                </div>
            </div>
            <div id="auth-buttons">
                <a href="/pages/signup.html" class="btn-secondary mr-2">Sign Up</a>
                <a href="/pages/login.html" class="btn-primary">Login</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-grow">
        <section class="py-12 md:py-16">
            <div class="container mx-auto px-4 md:px-6">
                <div class="max-w-4xl mx-auto">
                    <!-- Back navigation -->
                    <div class="mb-6">
                        <a href="/pages/recipes.html" class="flex items-center text-dark hover:text-primary transition-colors">
                            <i class="fas fa-arrow-left mr-2"></i>
                            <span>Back to recipes</span>
                        </a>
                    </div>
                    
                    <div id="recipe-content" class="bg-white rounded-xl overflow-hidden shadow-lg">
                        <!-- Recipe header image -->
                        <div class="relative h-80">
                            <img src="/public/images/pasta.webp" 
                                 alt="Classic Tomato Pasta" 
                                 class="w-full h-full object-cover" 
                                 id="recipe-image">
                            <div class="absolute top-4 right-4 flex gap-2">
                                <button class="bg-white p-2 rounded-full shadow-md text-primary hover:text-primary/80 transition-colors" id="save-recipe" aria-label="Save recipe">
                                    <i class="far fa-bookmark"></i>
                                </button>
                                <button class="bg-white p-2 rounded-full shadow-md text-primary hover:text-primary/80 transition-colors" id="share-recipe" aria-label="Share recipe">
                                    <i class="fas fa-share-alt"></i>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Recipe details -->
                        <div class="p-6 md:p-8">
                            <div class="mb-6">
                                <h1 class="text-3xl font-bold text-dark mb-3" id="recipe-title">Classic Tomato Pasta</h1>
                                <p class="text-dark/70 mb-4" id="recipe-description">A simple and delicious pasta with fresh tomato sauce, garlic, and herbs. This recipe is perfect for a quick weeknight dinner and uses ingredients you likely already have on hand.</p>
                                
                                <div class="flex flex-wrap gap-3 mb-4">
                                    <span class="bg-cream px-3 py-1 rounded-md text-sm text-dark/70 border border-dark/20">6 ingredients</span>
                                    <span class="bg-cream px-3 py-1 rounded-md text-sm text-dark/70 border border-dark/20">25 min</span>
                                    <span class="tag-pill easy px-3 py-1 rounded-md text-sm">Easy</span>
                                    <span class="bg-cream px-3 py-1 rounded-md text-sm text-dark/70 border border-dark/20">Serves 2</span>
                                </div>
                                
                                <div class="flex items-center gap-2">
                                    <img src="https://randomuser.me/api/portraits/women/2.jpg" alt="Chef" class="w-10 h-10 rounded-full">
                                    <div>
                                        <span class="text-sm text-dark/70">Recipe by</span>
                                        <span class="text-dark font-medium ml-1">Emma</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Ingredient match -->
                            <div class="mb-8 p-4 bg-primary/10 rounded-lg">
                                <div class="flex items-center gap-2 mb-3">
                                    <i class="fas fa-check-circle text-primary"></i>
                                    <h3 class="font-semibold text-dark">Ingredient Match: 95%</h3>
                                </div>
                                <p class="text-dark/80 text-sm">You have 5 out of 6 required ingredients for this recipe.</p>
                            </div>
                            
                            <!-- Recipe tabs -->
                            <div class="border-b border-dark/10 mb-6">
                                <div class="flex">
                                    <button class="tab-button active py-3 px-4 font-medium border-b-2 border-primary text-primary" data-tab="ingredients">Ingredients</button>
                                    <button class="tab-button py-3 px-4 font-medium border-b-2 border-transparent text-dark/70 hover:text-dark transition-colors" data-tab="instructions">Instructions</button>
                                    <button class="tab-button py-3 px-4 font-medium border-b-2 border-transparent text-dark/70 hover:text-dark transition-colors" data-tab="nutrition">Nutrition</button>
                                </div>
                            </div>
                            
                            <!-- Tab content -->
                            <div class="tab-content" id="ingredients-content">
                                <h3 class="text-xl font-semibold mb-4">Ingredients</h3>
                                <ul class="space-y-3">
                                    <li class="flex items-start">
                                        <i class="fas fa-check text-primary mt-1 mr-3"></i>
                                        <span>8 oz (250g) spaghetti or pasta of choice</span>
                                    </li>
                                    <li class="flex items-start">
                                        <i class="fas fa-check text-primary mt-1 mr-3"></i>
                                        <span>3 tablespoons olive oil</span>
                                    </li>
                                    <li class="flex items-start">
                                        <i class="fas fa-check text-primary mt-1 mr-3"></i>
                                        <span>4 cloves garlic, minced</span>
                                    </li>
                                    <li class="flex items-start">
                                        <i class="fas fa-check text-primary mt-1 mr-3"></i>
                                        <span>1 lb (450g) ripe tomatoes, diced</span>
                                    </li>
                                    <li class="flex items-start">
                                        <i class="fas fa-check text-primary mt-1 mr-3"></i>
                                        <span>1 small onion, finely chopped</span>
                                    </li>
                                    <li class="flex items-start incomplete">
                                        <i class="fas fa-times text-dark/30 mt-1 mr-3"></i>
                                        <span class="text-dark/50">Fresh basil leaves, torn (for garnish)</span>
                                    </li>
                                    <li class="flex items-start optional">
                                        <i class="fas fa-asterisk text-dark/30 mt-1 mr-3"></i>
                                        <span class="text-dark/50">Grated Parmesan cheese (optional)</span>
                                    </li>
                                    <li class="flex items-start optional">
                                        <i class="fas fa-asterisk text-dark/30 mt-1 mr-3"></i>
                                        <span class="text-dark/50">Salt and pepper to taste</span>
                                    </li>
                                </ul>
                            </div>
                            
                            <div class="tab-content hidden" id="instructions-content">
                                <h3 class="text-xl font-semibold mb-4">Instructions</h3>
                                <ol class="space-y-4">
                                    <li class="flex">
                                        <span class="flex-shrink-0 w-6 h-6 bg-primary rounded-full text-white flex items-center justify-center mr-3 mt-0.5">1</span>
                                        <p>Bring a large pot of salted water to a boil. Add pasta and cook according to package instructions until al dente. Drain, reserving 1/2 cup of pasta water.</p>
                                    </li>
                                    <li class="flex">
                                        <span class="flex-shrink-0 w-6 h-6 bg-primary rounded-full text-white flex items-center justify-center mr-3 mt-0.5">2</span>
                                        <p>While pasta is cooking, heat olive oil in a large skillet over medium heat. Add onion and cook until soft and translucent, about 3-4 minutes.</p>
                                    </li>
                                    <li class="flex">
                                        <span class="flex-shrink-0 w-6 h-6 bg-primary rounded-full text-white flex items-center justify-center mr-3 mt-0.5">3</span>
                                        <p>Add minced garlic to the skillet and cook for another minute until fragrant.</p>
                                    </li>
                                    <li class="flex">
                                        <span class="flex-shrink-0 w-6 h-6 bg-primary rounded-full text-white flex items-center justify-center mr-3 mt-0.5">4</span>
                                        <p>Add diced tomatoes, salt, and pepper. Simmer for 10-15 minutes until tomatoes break down and sauce thickens slightly.</p>
                                    </li>
                                    <li class="flex">
                                        <span class="flex-shrink-0 w-6 h-6 bg-primary rounded-full text-white flex items-center justify-center mr-3 mt-0.5">5</span>
                                        <p>Add the cooked pasta to the sauce along with a splash of reserved pasta water. Toss to coat evenly.</p>
                                    </li>
                                    <li class="flex">
                                        <span class="flex-shrink-0 w-6 h-6 bg-primary rounded-full text-white flex items-center justify-center mr-3 mt-0.5">6</span>
                                        <p>Serve hot, garnished with torn basil leaves and grated Parmesan cheese if desired.</p>
                                    </li>
                                </ol>
                            </div>
                            
                            <div class="tab-content hidden" id="nutrition-content">
                                <h3 class="text-xl font-semibold mb-4">Nutrition Information</h3>
                                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                                    <div class="bg-light p-3 rounded-lg text-center">
                                        <span class="text-lg font-bold text-primary">380</span>
                                        <p class="text-dark/70 text-sm">Calories</p>
                                    </div>
                                    <div class="bg-light p-3 rounded-lg text-center">
                                        <span class="text-lg font-bold text-primary">12g</span>
                                        <p class="text-dark/70 text-sm">Fat</p>
                                    </div>
                                    <div class="bg-light p-3 rounded-lg text-center">
                                        <span class="text-lg font-bold text-primary">58g</span>
                                        <p class="text-dark/70 text-sm">Carbs</p>
                                    </div>
                                    <div class="bg-light p-3 rounded-lg text-center">
                                        <span class="text-lg font-bold text-primary">10g</span>
                                        <p class="text-dark/70 text-sm">Protein</p>
                                    </div>
                                </div>
                                
                                <p class="text-dark/60 text-xs mt-4">* Nutrition information is estimated based on ingredients. Values may vary.</p>
                            </div>
                            
                            <!-- Similar Recipes -->
                            <div class="mt-10">
                                <h3 class="text-xl font-semibold mb-4">Similar Recipes</h3>
                                <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                                    <div class="recipe-thumbnail" onclick="window.location.href='recipe-details.html?id=2'">
                                        <img src="/public/images/ratatouille.webp" alt="Ratatouille" class="w-full h-32 object-cover rounded-lg">
                                        <h4 class="text-dark font-medium mt-2">Homemade Ratatouille</h4>
                                    </div>
                                    <div class="recipe-thumbnail" onclick="window.location.href='recipe-details.html?id=3'">
                                        <img src="/public/images/salsa.webp" alt="Salsa" class="w-full h-32 object-cover rounded-lg">
                                        <h4 class="text-dark font-medium mt-2">Fresh Tomato Salsa</h4>
                                    </div>
                                    <div class="recipe-thumbnail" onclick="window.location.href='recipe-details.html?id=4'">
                                        <img src="/public/images/shakshuka.webp" alt="Shakshuka" class="w-full h-32 object-cover rounded-lg">
                                        <h4 class="text-dark font-medium mt-2">Shakshuka</h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Check if user is logged in
            const userInfo = document.getElementById('user-info');
            const authButtons = document.getElementById('auth-buttons');
            const usageCount = document.getElementById('usage-count');
            
            let isLoggedIn = false;
            let totalUses = 0;
            
            // Check if user has saved usage data
            if (localStorage.getItem('recibee_uses')) {
                totalUses = parseInt(localStorage.getItem('recibee_uses'));
            }
            
            // Check if user is logged in
            if (localStorage.getItem('recibee_user')) {
                isLoggedIn = true;
                userInfo.classList.remove('hidden');
                authButtons.classList.add('hidden');
                
                // Show usage count for logged in users
                usageCount.textContent = `${totalUses}/3 Uses`;
            }
            
            // Get recipe ID from URL params
            const urlParams = new URLSearchParams(window.location.search);
            const recipeId = urlParams.get('id') || '1';
            
            // Load recipe data based on ID (would be fetched from API in real implementation)
            // This is a placeholder as you mentioned
            const recipeData = {
                '1': {
                    title: 'Classic Tomato Pasta',
                    image: 'public/images/pasta.webp',
                    // Other recipe details would be here
                },
                '2': {
                    title: 'Homemade Ratatouille',
                    image: 'public/images/ratatouille.webp',
                    // Other recipe details would be here
                },
                '3': {
                    title: 'Fresh Tomato Salsa',
                    image: 'public/images/salsa.webp',
                    // Other recipe details would be here
                },
                '4': {
                    title: 'Shakshuka',
                    image: 'public/images/shakshuka.webp',
                    // Other recipe details would be here
                }
            };
            
            // Update page title
            if (recipeData[recipeId]) {
                document.title = recipeData[recipeId].title + ' - Recibee';
                document.getElementById('recipe-title').textContent = recipeData[recipeId].title;
                document.getElementById('recipe-image').src = recipeData[recipeId].image;
            }
            
            // Handle tabs
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Remove active class from all buttons
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    
                    // Add active class to clicked button
                    this.classList.add('active');
                    
                    // Hide all tab contents
                    tabContents.forEach(content => content.classList.add('hidden'));
                    
                    // Show the selected tab content
                    const tabId = this.getAttribute('data-tab');
                    document.getElementById(tabId + '-content').classList.remove('hidden');
                });
            });
            
            // Handle save recipe button
            const saveButton = document.getElementById('save-recipe');
            saveButton.addEventListener('click', function() {
                const icon = this.querySelector('i');
                if (icon.classList.contains('far')) {
                    icon.classList.remove('far');
                    icon.classList.add('fas');
                } else {
                    icon.classList.remove('fas');
                    icon.classList.add('far');
                }
            });
            
            // Handle share recipe button
            const shareButton = document.getElementById('share-recipe');
            shareButton.addEventListener('click', function() {
                // Check if Web Share API is supported
                if (navigator.share) {
                    navigator.share({
                        title: document.getElementById('recipe-title').textContent,
                        text: document.getElementById('recipe-description').textContent,
                        url: window.location.href
                    })
                    .catch(error => console.log('Error sharing:', error));
                } else {
                    // Fallback for browsers that don't support Web Share API
                    alert('Share this recipe: ' + window.location.href);
                }
            });
            
            // Progress bar effect
            const progressBar = document.getElementById('progress-bar');
            window.addEventListener('scroll', function() {
                const scrollTop = window.scrollY;
                const docHeight = document.body.offsetHeight;
                const winHeight = window.innerHeight;
                const scrollPercent = scrollTop / (docHeight - winHeight);
                progressBar.style.width = scrollPercent * 100 + '%';
            });
        });
    </script>
</body>
</html> 